metrics-generator: derived-metrics
# Derived metrics are calculated based on the metrics that are already calculated.
snapshot-metrics:
  global:
    - metric: _all_abstractness_before
      query: _before_abstracts_classes / _before_classes
    - metric: _all_abstractness_after
      query: _after_abstracts_classes / _after_classes
    - metric: delta_methods
      query: abs(_after_methods - _before_methods)
      magnitude: 1
    - metric: delta_hidden_factor_methods
      query: abs(_after_hidden_factor_methods - _before_hidden_factor_methods)
      magnitude: 3
  per-class:
  per-package:
      - metric: package_abstractness
        query: (package.___SEP___abstracts + package.___SEP___interfaces) / package.___SEP___nodes
      - metric: package_distance_from_main_sequence
        query: abs((package.___SEP___package_abstractness + package.___SEP___instability) - 1)
delta-metrics:
  global:
    - metric: delta_classes
      query: abs(added_concrete_classes - deleted_concrete_classes)
      magnitude: 3
    - metric: delta_relationships
      query: abs(added_relationships - deleted_relationships)
      magnitude: 2
    - metric: delta_nodes
      query: abs(added_classes - deleted_classes)
      magnitude: 2
    - metric: delta_abstracts
      query: abs(added_abstracts_classes - deleted_abstracts_classes)
      magnitude: 1
    - metric: abstractness_delta
      query: abs(_all_abstractness_after - _all_abstractness_before)
      magnitude: 4
  per-class:
  per-package:

